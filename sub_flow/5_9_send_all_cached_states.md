# Send all cached states 

## External flow: [Start Controller of zigbee2mqtt - Step 9](5_start_controller_of_zigbee2mqtt.md#step-9-send-all-cached-states)

### Description
- This is the flow of publishing state of all devices and groups. It is method `Controller.publishEntityState()`.
  
#### Class [Controller (zigbee2mqtt)](../objects/controller_zigbee2mqtt.md)

### Path
> zigbee2mqtt\lib\controller.ts

### Flow

For each device and group, run `Controller.publishEntityState`

<img src="..." width="550"/>

### Step 1: SAMPLE

### Step 2: SAMPLE

### Step 3: SAMPLE

### Step 4: SAMPLE

### Step 5: SAMPLE

### Step 6: SAMPLE

### Step 7: SAMPLE

### Step 8: SAMPLE

### Step 9: SAMPLE

### Step 10: SAMPLE

### Step 11: SAMPLE

